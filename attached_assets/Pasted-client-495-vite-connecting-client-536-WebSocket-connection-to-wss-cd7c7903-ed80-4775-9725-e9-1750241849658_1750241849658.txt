client:495 [vite] connecting...
client:536 WebSocket connection to 'wss://cd7c7903-ed80-4775-9725-e9e0ce8332f4-00-1jqxa0uhnujhm.riker.replit.dev/?token=Oe_gT_biB0rl' failed: 
setupWebSocket @ client:536
client:536 Uncaught (in promise) SyntaxError: Failed to construct 'WebSocket': The URL 'wss://localhost:undefined/?token=Oe_gT_biB0rl' is invalid.
    at setupWebSocket (client:536:19)
    at fallback (client:509:16)
    at WebSocket.<anonymous> (client:555:7)
chunk-276SZO74.js?v=2c98d12a:21551 Download the React DevTools for a better development experience: https://reactjs.org/link/react-devtools
@supabase_supabase-js.js?v=2c98d12a:5163 Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.
_GoTrueClient @ @supabase_supabase-js.js?v=2c98d12a:5163
queryClient.ts:15 [JWT] Getting token from localStorage: token present
queryClient.ts:15 [JWT] Getting token from localStorage: token present
queryClient.ts:15 [JWT] Getting token from localStorage: token present
queryClient.ts:15 [JWT] Getting token from localStorage: token present
use-supabase-auth.tsx:60 Supabase auth state changed: TOKEN_REFRESHED
use-supabase-auth.tsx:60 Supabase auth state changed: INITIAL_SESSION
protected-route.tsx:14 üõ°Ô∏è ProtectedRoute: /messages User: ID 191 isSeller:true Loading: false
use-messaging.tsx:91 Attempting WebSocket connection...
use-messaging.tsx:101 WebSocket URL: wss://cd7c7903-ed80-4775-9725-e9e0ce8332f4-00-1jqxa0uhnujhm.riker.replit.dev/ws
queryClient.ts:15 [JWT] Getting token from localStorage: token present
api/messages:1 
            
            
           Failed to load resource: the server responded with a status of 500 (Internal Server Error)
use-messaging.tsx:363 Error fetching messages: Error: 500: {"message":"require is not defined"}
    at throwIfResNotOk (queryClient.ts:6:11)
    at async apiRequest (queryClient.ts:59:3)
    at async fetchMessages (use-messaging.tsx:358:21)
fetchMessages @ use-messaging.tsx:363
protected-route.tsx:14 üõ°Ô∏è ProtectedRoute: /messages User: ID 191 isSeller:true Loading: false
use-messaging.tsx:135 WebSocket connection established
use-messaging.tsx:149 üîê Sending application JWT authentication to WebSocket server
use-messaging.tsx:168 WebSocket message received: {"type":"auth_success","userId":191,"username":"mfirdaus12+20250617"}
use-messaging.tsx:179 Authentication successful for user: 191
